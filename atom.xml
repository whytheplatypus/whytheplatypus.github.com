<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Random Bits]]></title>
  <link href="http://whytheplatypus.github.com/atom.xml" rel="self"/>
  <link href="http://whytheplatypus.github.com/"/>
  <updated>2013-02-01T13:13:22-05:00</updated>
  <id>http://whytheplatypus.github.com/</id>
  <author>
    <name><![CDATA[David Gage]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Setting up mDNS on SmartOS]]></title>
    <link href="http://whytheplatypus.github.com/blog/2013/02/01/setting-up-mdns-on-smartos/"/>
    <updated>2013-02-01T09:36:00-05:00</updated>
    <id>http://whytheplatypus.github.com/blog/2013/02/01/setting-up-mdns-on-smartos</id>
    <content type="html"><![CDATA[<p>I&#8217;ve been working with smartOS alot through VMWare Fusion on my macbook.  I was getting sick of looking up IP addresses so I poked around and sure enough mdns was there the whole time..</p>

<p>It took me a bit to figure out how to enable it on the VMs, turns out it&#8217;s straightforward. Just running this in a VM should do it.</p>

<div><script src='https://gist.github.com/4692693.js?file=enableMulticast.sh'></script>
<noscript><pre><code>#!/bin/bash
mv /etc/nsswitch.conf /etc/nsswitch.conf_old
cp /etc/nsswitch.dns /etc/nsswitch.conf
 
svcadm enable multicast
svcs multicast</code></pre></noscript></div>


<p>I also put together a quick script to let me make and name new nodes quickly.</p>

<div><script src='https://gist.github.com/4692705.js?file=createNode.sh'></script>
<noscript><pre><code>#!/bin/bash
export GATEWAY=$(netstat -r | grep default | awk '{ print $2 }')

echo &quot;{
      \&quot;brand\&quot;: \&quot;joyent\&quot;,
      \&quot;dataset_uuid\&quot;: \&quot;$1\&quot;,
      \&quot;hostname\&quot;: \&quot;$2\&quot;,
      \&quot;alias\&quot;: \&quot;$3\&quot;,
      \&quot;nics\&quot;: [
        {
          \&quot;nic_tag\&quot;: \&quot;admin\&quot;,
          \&quot;ip\&quot;: \&quot;dhcp\&quot;,
          \&quot;netmask\&quot;: \&quot;255.255.255.0\&quot;,
          \&quot;gateway\&quot;:\&quot;${GATEWAY}\&quot;
        }
      ]
}&quot; | vmadm create</code></pre></noscript></div>


<p>enjoy!</p>

<p>~WhyThePlatypus</p>
]]></content>
  </entry>
  
</feed>
